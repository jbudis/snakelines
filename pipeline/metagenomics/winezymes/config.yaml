samples:                            # List of sample categories to be analysed
    - name: .*16s.*                 # Regex expression of sample names to be analysed (reads/original/.*16s.*_R1.fastq.gz)

report_dir: report/public/01-taxonomy    # Generated reports and essential output files would be stored there
threads: 16                         # Number of threads to use in analysis

reads:                              # Prepare reads and quality reports for downstream analysis
    preprocess:                     # Pre-process of reads, eliminate sequencing artifacts, contamination ...

        trimmed:                    # Remove low quality parts of reads
            method: trimmomatic     # Supported values: trimmomatic
            temporary: False        # If True, generated files would be removed after successful analysis
            crop: 500               # Maximal number of bases in read to keep. Longer reads would be truncated.
            quality: 20             # Minimal average quality of read bases to keep (inside sliding window of length 5)
            headcrop: 20            # Number of bases to remove from the start of read
            minlen: 35              # Minimal length of trimmed read. Shorter reads would be removed.

        joined:                            # Join paired reads to simulate single-end sequencing (Matam requires it)
            read_type: trimmed
            method: pear            # What type of reads should be used for join (reads/<read_type>)

    report:                         # Summary reports of read characteristics to assess their quality
        quality_report:             # HTML summary report of read quality
            method: fastqc          # Supported values: fastqc
            read_types:             # List of preprocess steps for quality reports
                - original
                - trimmed
                - joined

qiime:
    preprocess:
        manifest:
            method: create_joined_manifest
        metadata:
            method: create_metadata_file  # method distinguish columns for imported filenames, where each value is separated by column_separator
            column_separator: '-'         # filename 17-dna-replicaA1 has 3 metadata columns, 17 dna replicaA1
        import:
            method: import_manifest
            data_type: JoinedSequencesWithQuality
        dereplicate:
            method: vsearch_dereplicate_sequences
        cluster:
            method: vsearch_cluster_features_de_novo
            similarity: 99

    report:
        prepare:
            quality_report:
                method: demux_summarize
            cluster_feature_table:
                method: feature_table_summarize
            cluster_rep_seqs:
                method: feature_table_tabulate_seqs
            taxonomy:
                barplot:
                    method: taxa__barplot
                tabulate:
                    method: metadata__tabulate

        export:
            method: export

    alignment:
        method: phylogeny_align_to_tree_mafft_fasttree
        #similarity: 99

    analysis:
        core_metrics:
            method: diversity_core_metrics_phylogenetic
            similarity: 99
        taxonomy:
            index:
                method: feature_classifier__fit_classifier_naive_bayes
                tmp_dir: /data/tmp
            classify:
                method: feature_classifier__classify_sklearn
                reference: silva-16S-90
                tmp_dir: /data/tmp
