THREADS = 16

rule blast:
    input:
        '{path}/{sample}.fasta'
    output:
        '{path}/blast/{sample}.blast'
    threads:
        THREADS
    shell:
        '''
        blastn \
            -db /data/genome/metagenome/blast/nt/17-01-17/nt \
            -query {input} \
            -out {output} \
            -max_target_seqs 1 \
            -outfmt 6 \
            -num_threads {threads}
        '''
